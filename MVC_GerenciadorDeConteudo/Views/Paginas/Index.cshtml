@{
    ViewBag.Title = "Paginas";
    List<Business.Pagina> paginas = ViewBag.Paginas;
}

@if (TempData["sucesso"] != null) {
    <div class="alert alert-success">@TempData["sucesso"].ToString()</div>
}

@if (TempData["erro"] != null) {
    <div class="alert alert-danger">@TempData["erro"].ToString()</div>
}

<div class="jumbotron">
    <h3>Paginas</h3>
    <div>
        <a href="/paginas/novo" class="btn btn-default">Nova página</a>
    </div>
    <table class="table">

        <thead style="font-weight: bold;">
            <td>ID</td>
            <td>Nome</td>
            <td>Data</td>
            <td>Render</td>
            <td>Render NVelocity</td>
            <td></td>
            <td></td>
        </thead>

        @foreach (var p in paginas)
        {
            <tr>
                <td>@p.Id</td>
                <td>@p.Nome</td>
                <td>@p.Data</td>
                <td>
                    <a href="/paginas/@p.Id/preview" target="_blank" class="btn btn-warning">Preview</a>
                </td>
                <td>
                    <a href="/paginas/@p.Id/preview-dinamico" target="_blank" class="btn btn-warning">Preview Dinâmico</a>
                </td>
                <td>
                    <a href="/paginas/@p.Id/editar" class="btn btn-primary">Alterar dados</a>
                </td>
                <td>
                    <a href="/paginas/@p.Id/excluir" class="btn btn-danger" onclick="validaExclusao(@p.Id, event)">Excluir dado</a>
                </td>
            </tr>
        }
    </table>
</div>

